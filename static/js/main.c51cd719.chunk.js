(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{16:function(t,e,n){t.exports={pageList:"Header_pageList__b_0Hj",pageListItem:"Header_pageListItem__1vnYI",active:"Header_active__vmCnS"}},20:function(t,e,n){t.exports={formInput:"RegisterPage_formInput__1kvlu",btn:"RegisterPage_btn__MSj9y"}},23:function(t,e,n){t.exports={formInput:"AuthPage_formInput__2AQWh",btn:"AuthPage_btn__3fSYq"}},24:function(t,e,n){t.exports={btn:"Phonebook_btn__1UFp6",inputName:"Phonebook_inputName__3ASW-",inputNumber:"Phonebook_inputNumber__1T-La"}},46:function(t,e,n){t.exports={btnDelete:"ContactItem_btnDelete__xBuRM"}},53:function(t,e,n){t.exports=n(82)},82:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(25),c=n.n(o),u=n(44),l=n(12),i=n(13),s=n(15),m=n(14),p=n(17),f=n(3),h=n(2),d=n(18),b=n(11),g=n.n(b);g.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var E=function(){return g.a.get("/contacts")},C=function(t){return g.a.post("/contacts",t)},y=function(t){return g.a.delete("/contacts/".concat(t))},v=function(){return g.a.get("/users/current")},O=function(t){return g.a.post("/users/login",t)},S=function(t){return console.log(t),g.a.post("/users/signup",t)},_=function(){return g.a.post("/users/logout")},j={set:function(t){g.a.defaults.headers.common.Authorization="Bearer ".concat(t)},unset:function(){g.a.defaults.headers.common.Authorization=""}},T="auth/LOADING_START",L="auth/GET_USER_SUCCESS",N="auth/GET_USER_FAILURE",A="auth/LOGIN_SUCCESS",R="auth/LOGIN_FAILURE",k="auth/REGISTER_SUCCESS",I="auth/REGISTER_FAILURE",x="auth/LOGOUT_SUCCESS",U="auth/LOGOUT_FAILURE",w=function(){return{type:T}},D=function(t){return{type:L,payload:t}},F=function(t){return{type:N,payload:t}},G=function(t){return{type:A,payload:t}},P=function(t){return{type:R,payload:t}},W=function(t){return{type:k,payload:t}},B=function(t){return{type:I,payload:{error:t}}},H=function(){return{type:x}},M=function(t){return{type:U,payload:{error:t}}},q=function(t){return function(e){console.log(e),e(w()),O(t).then((function(t){var n=t.data;console.log(n),j.set(n.token),e(G(n))})).catch((function(t){return e(P(t))}))}},z=function(t){return function(e){e(w()),console.log(t),S(t).then((function(t){var n=t.data;j.set(n.token),e(W(n))})).catch((function(t){return e(B(t))}))}},J=function(){return function(t){t(w()),_().then((function(){j.unset(),t(H())})).catch((function(e){return t(M(e))}))}},Y=function(){return function(t,e){var n=e().authRoot.token;n&&(j.set(n),t(w()),v().then((function(e){var n=e.data;t(D(n))})).catch((function(e){return t(F(e))})))}},Q=n(23),K=n.n(Q),V=Object(h.b)(null,(function(t){return{makeToggle:function(){return t({type:"auth/IS_SHOW"})}}}))((function(){var t=Object(h.c)(),e=Object(a.useState)(""),n=Object(d.a)(e,2),o=n[0],c=n[1],u=Object(a.useState)(""),l=Object(d.a)(u,2),i=l[0],s=l[1];return r.a.createElement("form",{className:K.a.form,onSubmit:function(e){e.preventDefault(),t(q({email:o,password:i}))}},r.a.createElement("input",{type:"email",value:o,onChange:function(t){var e=t.target;return c(e.value)},placeholder:"Enter your e-mail...",className:K.a.formInput}),r.a.createElement("input",{type:"password",value:i,onChange:function(t){var e=t.target;return s(e.value)},placeholder:"Enter your password",className:K.a.formInput}),r.a.createElement("button",{type:"submit",className:K.a.btn},"Login"))})),X=n(20),Z=n.n(X),$=function(){var t=Object(h.c)(),e=Object(a.useState)(""),n=Object(d.a)(e,2),o=n[0],c=n[1],u=Object(a.useState)(""),l=Object(d.a)(u,2),i=l[0],s=l[1],m=Object(a.useState)(""),p=Object(d.a)(m,2),f=p[0],b=p[1];return r.a.createElement("form",{className:Z.a.form,onSubmit:function(e){e.preventDefault(),t(z({name:o,email:i,password:f}))}},r.a.createElement("input",{type:"text",value:o,onChange:function(t){var e=t.target;return c(e.value)},placeholder:"Enter your name...",className:Z.a.formInput}),r.a.createElement("input",{type:"email",value:i,onChange:function(t){var e=t.target;return s(e.value)},placeholder:"Enter your e-mail...",className:Z.a.formInput}),r.a.createElement("input",{type:"password",value:f,onChange:function(t){var e=t.target;return b(e.value)},placeholder:"Enter your password",className:Z.a.formInput}),r.a.createElement("button",{type:"submit",className:Z.a.btn},"Register"))},tt=n(16),et=n.n(tt),nt=Object(h.b)((function(t){return{isAuth:t.authRoot.isAuth}}))((function(t){var e=t.isAuth;return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("ul",{className:et.a.pageList},!e&&r.a.createElement("li",{className:et.a.pageListItem},r.a.createElement(p.b,{to:"/registration",activeClassName:et.a.active},"Registration")),!e&&r.a.createElement("li",{className:et.a.pageListItem},r.a.createElement(p.b,{exact:!0,to:"/",activeClassName:et.a.active},"Login")),e&&r.a.createElement("li",{className:et.a.pageListItem},r.a.createElement(p.b,{to:"/phonebook",activeClassName:et.a.active},"Phonebook")))))})),at=n(28),rt="contacts/GET_CONTACT-START",ot="contacts/GET_CONTACT_SUCCESS",ct="contacts/GET_CONTACT_FAILURE",ut="contacts/ADD_CONTACT_START",lt="contacts/ADD_CONTACT_SUCCESS",it="contacts/ADD_CONTACT_FAILURE",st="contacts/DELETE_CONTACT_START",mt="contacts/DELETE_CONTACT_SUCCESS",pt="contacts/DELETE_CONTACT_FAILURE",ft="contacts/FILTER_CONTACT",ht={getContactStart:function(){return{type:rt}},getContactSuccess:function(t){return{type:ot,payload:{contactList:t}}},getContactFailure:function(t){return{type:ct,payload:{error:t}}},addContactStart:function(){return{type:ut}},addContactSuccess:function(t){return{type:lt,payload:{contact:t}}},addContactFailure:function(t){return{type:it,payload:{error:t}}},deleteContactStart:function(){return{type:st}},deleteContactSuccess:function(t){return{type:mt,payload:{id:t}}},deleteContactFailure:function(t){return{type:pt,payload:{error:t}}},filterContact:function(t){return{type:ft,payload:{name:t}}}},dt=function(){return function(t){t(ht.getContactStart()),E().then((function(e){var n=e.data;return t(ht.getContactSuccess(n))})).catch((function(e){return t(ht.getContactError(e))}))}},bt=function(t,e){return function(n){n(ht.addContactStart()),C({name:t,number:e}).then((function(t){var e=t.data;return n(ht.addContactSuccess(e))})).catch((function(t){return n(ht.addContactFailure(t))}))}},gt=function(t){return function(e){e(ht.deleteContactStart()),y(t).then((function(){return e(ht.deleteContactSuccess(t))})).catch((function(t){return e(ht.deleteContactFailure(t))}))}},Et=n(24),Ct=n.n(Et),yt=function(t){Object(s.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={contactName:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,r=n.value;t.setState(Object(at.a)({},a,r))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.contactName,r=n.number,o=t.props.addContact;t.setState({contactName:"",number:""}),o(a,r)},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this.state,e=t.contactName,n=t.number;return r.a.createElement("form",{onSubmit:this.handleSubmit,style:{marginLeft:"30px"}},r.a.createElement("h2",{className:Ct.a.title},"Phonebook"),r.a.createElement("input",{className:Ct.a.inputName,type:"text",name:"contactName",value:e,onChange:this.handleChange,placeholder:"Enter name...",required:!0}),r.a.createElement("input",{className:Ct.a.inputNumber,type:"tel",name:"number",value:n,onChange:this.handleChange,placeholder:"Number...",required:!0}),r.a.createElement("button",{type:"submit",className:Ct.a.btn},"Add contact"))}}]),n}(a.Component),vt=Object(h.b)(null,(function(t){return{addContact:function(e,n){return t(bt(e,n))}}}))(yt),Ot=n(46),St=n.n(Ot),_t=Object(h.b)(null,(function(t,e){var n=e.id;return{deleteContact:function(){return t(gt(n))}}}))((function(t){var e=t.contact,n=e.id,a=e.name,o=e.number,c=t.deleteContact;return r.a.createElement("li",null,r.a.createElement("span",null,a,": "),r.a.createElement("span",null,o),r.a.createElement("button",{type:"button",className:St.a.btnDelete,onClick:function(){return c(n)}},"Delete"))})),jt=n(47),Tt=function(t){return t.contactRoot.filterReducer},Lt=Object(jt.a)([function(t){return t.contactRoot.contactReducer},Tt],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),Nt=Object(h.b)((function(t){return{filter:Tt(t)}}),(function(t){return{onChange:function(e){return t(ht.filterContact(e.target.value))}}}))((function(t){var e=t.filter,n=t.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{style:{marginLeft:"30px",letterSpacing:"1px"}},"Find contacts by name:"),r.a.createElement("input",{style:{marginLeft:"30px",height:"25px",marginBottom:"10px"},type:"text",name:"filter",value:e,onChange:n}))})),At=function(t){Object(s.a)(n,t);var e=Object(m.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getAllContacts)()}},{key:"render",value:function(){var t=this.props,e=t.contactList,n=t.filter,a=t.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{marginLeft:"30px",color:"blue"}},"Contacts"),r.a.createElement(Nt,{filter:n,onChange:a}),r.a.createElement("ul",null,e.map((function(t){return r.a.createElement(_t,{id:t.id,contact:t,key:t.id})})),";"))}}]),n}(a.Component),Rt=Object(h.b)((function(t){return{contactList:Lt(t)}}),(function(t){return{getAllContacts:function(){return t(dt())}}}))(At),kt=function(){var t=Object(h.c)();return r.a.createElement("button",{type:"button",onClick:function(){t(J())},style:{marginLeft:"30px",marginBottom:"15px",backgroundColor:"red",color:"white",fontWeight:"bold",border:"none",letterSpacing:"0.5px",height:"35px",width:"100px"}},"Logout")},It=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),r.a.createElement(Rt,null),r.a.createElement(kt,null))},xt=n(52),Ut=function(t){var e=t.component,n=Object(xt.a)(t,["component"]),a=Object(h.d)((function(t){return t.authRoot.token}));return r.a.createElement(f.b,Object.assign({},n,{render:function(t){return a?r.a.createElement(e,t):r.a.createElement(f.a,{to:"/"})}}))},wt=Object(a.createContext)(),Dt={light:{fontColor:"black",bodybg:"white"},dark:{fontColor:"white",bodybg:"black"}},Ft=function(t){Object(s.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).toggleTheme=function(){t.setState((function(t){return"light"===t.theme?{theme:"dark",themeConfig:Dt.dark}:{theme:"light",themeConfig:Dt.light}}))},t.state={theme:"light",themeConfig:Dt.light,toggleTheme:t.toggleTheme},t}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(wt.Provider,{value:this.state},this.props.children)}}]),n}(a.Component);Ft.Consumer=wt.Consumer;var Gt=Ft,Pt=function(t){return function(e){return r.a.createElement(Gt.Consumer,null,(function(n){return r.a.createElement(t,Object.assign({},e,{theme:n.theme,themeConfig:n.themeConfig,toggleTheme:n.toggleTheme}))}))}},Wt=function(t){Object(s.a)(n,t);var e=Object(m.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getUser()}},{key:"render",value:function(){var t=this.props.themeConfig,e=t.fontColor,n=t.bodybg;return r.a.createElement(p.a,null,r.a.createElement("div",{style:{color:e,background:n}},r.a.createElement("button",{type:"submit",style:{marginLeft:"20px",marginTop:"20px",borderColor:"white",height:"35px",width:"150px",backgroundColor:"black",color:"white",fontWeight:"bold",letterSpacing:"1px"},onClick:this.props.toggleTheme},"Change theme")),r.a.createElement(nt,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",component:V}),r.a.createElement(Ut,{path:"/phonebook",component:It}),r.a.createElement(f.b,{path:"/registration",component:$})))}}]),n}(a.Component),Bt=Object(h.b)(null,(function(t){return{getUser:function(){return t(Y())}}}))(Pt(Wt)),Ht=n(5),Mt=n(48),qt=n(49),zt=n(33),Jt=n(50),Yt=n.n(Jt),Qt=n(51),Kt=Object(Ht.combineReducers)({contactReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ot:return e.payload.contactList;case lt:return[].concat(Object(Qt.a)(t),[e.payload.contact]);case mt:return t.filter((function(t){return t.id!==e.payload.id}));default:return t}},filterReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ft:return e.payload.name;default:return t}},loading:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=e.type;switch(n){case rt:case ut:case st:return!0;case ot:case ct:return!0;case lt:case it:return!0;case mt:case pt:return!1;default:return t}},contactError:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case ct:case it:case pt:return a.error;case rt:case ut:case st:return null;default:return t}}}),Vt=n(4),Xt={name:"",isAuth:!1,token:"",isLoading:!1,error:""},Zt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"auth/LOADING_START":return Object(Vt.a)(Object(Vt.a)({},t),{},{isLoading:!0});case"auth/LOADING_END":return Object(Vt.a)(Object(Vt.a)({},t),{},{isLoading:!1});case"auth/GET_USER_SUCCESS":return Object(Vt.a)(Object(Vt.a)({},t),{},{name:e.payload.name,isAuth:!0});case"auth/GET_USER_FAILURE":return console.log(e.payload),Object(Vt.a)(Object(Vt.a)({},t),{},{error:e.payload.error});case"auth/LOGIN_SUCCESS":return Object(Vt.a)(Object(Vt.a)({},t),{},{name:e.payload.user.name,token:e.payload.token,isAuth:!0});case"auth/LOGIN_FAILURE":return Object(Vt.a)(Object(Vt.a)({},t),{},{error:e.payload.error});case"auth/REGISTER_SUCCESS":return Object(Vt.a)(Object(Vt.a)({},t),{},{name:e.payload.user.name,token:e.payload.token,isAuth:!0});case"auth/REGISTER_FAILURE":return Object(Vt.a)(Object(Vt.a)({},t),{},{error:e.payload.error});case x:return Xt;default:return t}},$t=Object(Ht.combineReducers)({contactRoot:Kt,authRoot:Zt}),te={key:"auth",storage:Yt.a,whitelist:["authRoot"]},ee=[Mt.a],ne=Object(zt.a)(te,$t),ae=Object(Ht.createStore)(ne,Object(qt.composeWithDevTools)(Ht.applyMiddleware.apply(void 0,ee))),re=Object(zt.b)(ae);c.a.render(r.a.createElement(h.a,{store:ae},r.a.createElement(u.a,{loading:null,persistor:re},r.a.createElement(Gt,null,r.a.createElement(Bt,null)))),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.c51cd719.chunk.js.map